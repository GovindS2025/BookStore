{"ast":null,"code":"import _objectSpread from\"C:/Users/govin/Downloads/BookStore_FullStack-main/test/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import{Container,Typography,TextField,Button,Box,Paper,Stack}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookForm=()=>{const{id}=useParams();const navigate=useNavigate();const[book,setBook]=useState({title:'',author:'',isbn:'',publicationYear:''});const axiosInstance=axios.create({baseURL:'/api/books',headers:{Authorization:'Basic '+btoa('admin:password')}});useEffect(()=>{if(id){axiosInstance.get(\"/\".concat(id)).then(response=>setBook(response.data)).catch(error=>console.error('Error fetching book:',error));}},[id]);const handleChange=e=>{const{name,value}=e.target;setBook(_objectSpread(_objectSpread({},book),{},{[name]:value}));};const handleSubmit=e=>{e.preventDefault();const request=id?axiosInstance.put(\"/\".concat(id),book):axiosInstance.post('/',book);request.then(()=>navigate('/')).catch(error=>console.error('Error saving book:',error));};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{padding:4,marginTop:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:id?'Edit Book':'Add Book'}),/*#__PURE__*/_jsx(Box,{component:\"form\",onSubmit:handleSubmit,noValidate:true,children:/*#__PURE__*/_jsxs(Stack,{spacing:3,children:[/*#__PURE__*/_jsx(TextField,{label:\"Title\",name:\"title\",value:book.title,onChange:handleChange,required:true,fullWidth:true}),/*#__PURE__*/_jsx(TextField,{label:\"Author\",name:\"author\",value:book.author,onChange:handleChange,required:true,fullWidth:true}),/*#__PURE__*/_jsx(TextField,{label:\"ISBN\",name:\"isbn\",value:book.isbn,onChange:handleChange,required:true,fullWidth:true}),/*#__PURE__*/_jsx(TextField,{label:\"Publication Year\",name:\"publicationYear\",type:\"number\",value:book.publicationYear,onChange:handleChange,required:true,fullWidth:true}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",type:\"submit\",children:\"Save\"})]})})]})});};export default BookForm;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","Container","Typography","TextField","Button","Box","Paper","Stack","jsx","_jsx","jsxs","_jsxs","BookForm","id","navigate","book","setBook","title","author","isbn","publicationYear","axiosInstance","create","baseURL","headers","Authorization","btoa","get","concat","then","response","data","catch","error","console","handleChange","e","name","value","target","_objectSpread","handleSubmit","preventDefault","request","put","post","maxWidth","children","elevation","sx","padding","marginTop","variant","gutterBottom","component","onSubmit","noValidate","spacing","label","onChange","required","fullWidth","type","color"],"sources":["C:/Users/govin/Downloads/BookStore_FullStack-main/test/frontend/src/components/BookForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Box,\r\n  Paper,\r\n  Stack\r\n} from '@mui/material';\r\n\r\nconst BookForm = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [book, setBook] = useState({\r\n    title: '',\r\n    author: '',\r\n    isbn: '',\r\n    publicationYear: ''\r\n  });\r\n\r\n  const axiosInstance = axios.create({\r\n    baseURL: '/api/books',\r\n    headers: {\r\n      Authorization: 'Basic ' + btoa('admin:password'),\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      axiosInstance.get(`/${id}`)\r\n        .then(response => setBook(response.data))\r\n        .catch(error => console.error('Error fetching book:', error));\r\n    }\r\n  }, [id]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setBook({ ...book, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const request = id\r\n      ? axiosInstance.put(`/${id}`, book)\r\n      : axiosInstance.post('/', book);\r\n\r\n    request\r\n      .then(() => navigate('/'))\r\n      .catch(error => console.error('Error saving book:', error));\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Paper elevation={3} sx={{ padding: 4, marginTop: 4 }}>\r\n        <Typography variant=\"h5\" gutterBottom>\r\n          {id ? 'Edit Book' : 'Add Book'}\r\n        </Typography>\r\n        <Box component=\"form\" onSubmit={handleSubmit} noValidate>\r\n          <Stack spacing={3}>\r\n            <TextField\r\n              label=\"Title\"\r\n              name=\"title\"\r\n              value={book.title}\r\n              onChange={handleChange}\r\n              required\r\n              fullWidth\r\n            />\r\n            <TextField\r\n              label=\"Author\"\r\n              name=\"author\"\r\n              value={book.author}\r\n              onChange={handleChange}\r\n              required\r\n              fullWidth\r\n            />\r\n            <TextField\r\n              label=\"ISBN\"\r\n              name=\"isbn\"\r\n              value={book.isbn}\r\n              onChange={handleChange}\r\n              required\r\n              fullWidth\r\n            />\r\n            <TextField\r\n              label=\"Publication Year\"\r\n              name=\"publicationYear\"\r\n              type=\"number\"\r\n              value={book.publicationYear}\r\n              onChange={handleChange}\r\n              required\r\n              fullWidth\r\n            />\r\n            <Button variant=\"contained\" color=\"primary\" type=\"submit\">\r\n              Save\r\n            </Button>\r\n          </Stack>\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default BookForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
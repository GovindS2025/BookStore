{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookLayout=()=>{const[books,setBooks]=useState([]);// Configure axios with Basic Auth\nconst axiosInstance=axios.create({baseURL:'/api/books',headers:{Authorization:'Basic '+btoa('admin:password')// Encode username:password\n}});useEffect(()=>{axiosInstance.get('').then(response=>setBooks(response.data)).catch(error=>console.error('Error fetching books:',error));},[]);const handleDelete=id=>{axiosInstance.delete(\"/\".concat(id)).then(()=>setBooks(books.filter(book=>book.id!==id))).catch(error=>console.error('Error deleting book:',error));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Book Library\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Author\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ISBN\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Year\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:books.map(book=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:book.title}),/*#__PURE__*/_jsx(\"td\",{children:book.author}),/*#__PURE__*/_jsx(\"td\",{children:book.isbn}),/*#__PURE__*/_jsx(\"td\",{children:book.publicationYear}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/edit/\".concat(book.id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(book.id),children:\"Delete\"})]})]},book.id))})]})]});};export default BookLayout;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","BookLayout","books","setBooks","axiosInstance","create","baseURL","headers","Authorization","btoa","get","then","response","data","catch","error","console","handleDelete","id","delete","concat","filter","book","children","map","title","author","isbn","publicationYear","to","onClick"],"sources":["C:/Users/govin/Downloads/BookStore_FullStack-main/test/Frontend/src/components/BookLayout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst BookLayout = () => {\r\n  const [books, setBooks] = useState([]);\r\n\r\n  // Configure axios with Basic Auth\r\n  const axiosInstance = axios.create({\r\n    baseURL: '/api/books',\r\n    headers: {\r\n      Authorization: 'Basic ' + btoa('admin:password'), // Encode username:password\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    axiosInstance.get('')\r\n      .then(response => setBooks(response.data))\r\n      .catch(error => console.error('Error fetching books:', error));\r\n  }, []);\r\n\r\n  const handleDelete = (id) => {\r\n    axiosInstance.delete(`/${id}`)\r\n      .then(() => setBooks(books.filter(book => book.id !== id)))\r\n      .catch(error => console.error('Error deleting book:', error));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Book Library</h2>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Title</th>\r\n            <th>Author</th>\r\n            <th>ISBN</th>\r\n            <th>Year</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {books.map(book => (\r\n            <tr key={book.id}>\r\n              <td>{book.title}</td>\r\n              <td>{book.author}</td>\r\n              <td>{book.isbn}</td>\r\n              <td>{book.publicationYear}</td>\r\n              <td>\r\n                <Link to={`/edit/${book.id}`}>Edit</Link>\r\n                <button onClick={() => handleDelete(book.id)}>Delete</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookLayout;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAEtC;AACA,KAAM,CAAAW,aAAa,CAAGT,KAAK,CAACU,MAAM,CAAC,CACjCC,OAAO,CAAE,YAAY,CACrBC,OAAO,CAAE,CACPC,aAAa,CAAE,QAAQ,CAAGC,IAAI,CAAC,gBAAgB,CAAG;AACpD,CACF,CAAC,CAAC,CAEFf,SAAS,CAAC,IAAM,CACdU,aAAa,CAACM,GAAG,CAAC,EAAE,CAAC,CAClBC,IAAI,CAACC,QAAQ,EAAIT,QAAQ,CAACS,QAAQ,CAACC,IAAI,CAAC,CAAC,CACzCC,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAAC,CAClE,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,YAAY,CAAIC,EAAE,EAAK,CAC3Bd,aAAa,CAACe,MAAM,KAAAC,MAAA,CAAKF,EAAE,CAAE,CAAC,CAC3BP,IAAI,CAAC,IAAMR,QAAQ,CAACD,KAAK,CAACmB,MAAM,CAACC,IAAI,EAAIA,IAAI,CAACJ,EAAE,GAAKA,EAAE,CAAC,CAAC,CAAC,CAC1DJ,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAAC,CACjE,CAAC,CAED,mBACEf,KAAA,QAAAuB,QAAA,eACEzB,IAAA,OAAAyB,QAAA,CAAI,cAAY,CAAI,CAAC,cACrBvB,KAAA,UAAAuB,QAAA,eACEzB,IAAA,UAAAyB,QAAA,cACEvB,KAAA,OAAAuB,QAAA,eACEzB,IAAA,OAAAyB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdzB,IAAA,OAAAyB,QAAA,CAAI,QAAM,CAAI,CAAC,cACfzB,IAAA,OAAAyB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbzB,IAAA,OAAAyB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbzB,IAAA,OAAAyB,QAAA,CAAI,SAAO,CAAI,CAAC,EACd,CAAC,CACA,CAAC,cACRzB,IAAA,UAAAyB,QAAA,CACGrB,KAAK,CAACsB,GAAG,CAACF,IAAI,eACbtB,KAAA,OAAAuB,QAAA,eACEzB,IAAA,OAAAyB,QAAA,CAAKD,IAAI,CAACG,KAAK,CAAK,CAAC,cACrB3B,IAAA,OAAAyB,QAAA,CAAKD,IAAI,CAACI,MAAM,CAAK,CAAC,cACtB5B,IAAA,OAAAyB,QAAA,CAAKD,IAAI,CAACK,IAAI,CAAK,CAAC,cACpB7B,IAAA,OAAAyB,QAAA,CAAKD,IAAI,CAACM,eAAe,CAAK,CAAC,cAC/B5B,KAAA,OAAAuB,QAAA,eACEzB,IAAA,CAACF,IAAI,EAACiC,EAAE,UAAAT,MAAA,CAAWE,IAAI,CAACJ,EAAE,CAAG,CAAAK,QAAA,CAAC,MAAI,CAAM,CAAC,cACzCzB,IAAA,WAAQgC,OAAO,CAAEA,CAAA,GAAMb,YAAY,CAACK,IAAI,CAACJ,EAAE,CAAE,CAAAK,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC3D,CAAC,GARED,IAAI,CAACJ,EASV,CACL,CAAC,CACG,CAAC,EACH,CAAC,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}